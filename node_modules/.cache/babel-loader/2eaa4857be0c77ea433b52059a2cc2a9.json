{"ast":null,"code":"import _slicedToArray from \"/home/farrux/java/bot_admin_dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/farrux/java/bot_admin_dashboard/src/features/admin/Layout.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { Redirect } from \"react-router-dom\";\nimport Container from \"reactstrap/lib/Container\";\nimport { Header } from \"../headers\";\nimport { getMessagesByGq } from \"../messages/query\";\nimport { AdminNavbar } from \"../navbars\";\nimport { Sidebar } from \"../sidebars\";\nimport route from \"./route\"; // import PropTypes from 'prop-types';\n\nexport default function Layout(_ref) {\n  var history = _ref.history,\n      children = _ref.children;\n\n  var _useState = useState(localStorage.getItem(\"jwt\") || null),\n      _useState2 = _slicedToArray(_useState, 2),\n      token = _useState2[0],\n      setToken = _useState2[1];\n\n  var mainRef = useRef(null);\n  var routes = route; // routes.push(orerroute.childRoutes.map(item => (orerroute.path + \"/\" + item.path)))\n\n  var orders_data = useQuery(\"orders\", getMessagesByGq);\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      orders = _useState4[0],\n      setorders = _useState4[1];\n\n  useEffect(function () {\n    var cancel = true;\n\n    if (cancel) {\n      if (orders_data.data && orders_data.data.orders) {\n        setorders(orders_data.data.orders);\n      } else {\n        setorders([]);\n      }\n\n      cancel = false;\n    }\n  }, [orders_data.data]);\n  useEffect(function () {\n    document.documentElement.scrollTop = 0;\n    document.scrollingElement.scrollTop = 0; // mainRef.current.scrollTop = 0;\n  }, [mainRef]);\n\n  var getBrandText = function getBrandText(path) {\n    for (var i = 0; i < routes.childRoutes.length; i++) {\n      if (history.location.pathname.indexOf(routes.path + \"/\" + routes.childRoutes[i].path) !== -1 && routes.childRoutes[i].path !== \"\") {\n        return routes.childRoutes[i].name;\n      }\n    }\n\n    return \"Brand\";\n  };\n\n  return token && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Sidebar // {...this.props}\n  , {\n    routes: routes,\n    logo: {\n      innerLink: \"/dashboard/index\",\n      imgSrc: require(\"../../assets/img/brand/argon-react.png\"),\n      imgAlt: \"...\"\n    },\n    orders: orders,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-content\",\n    ref: function ref(el) {\n      return mainRef.current = el;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AdminNavbar // {...this.props}\n  , {\n    brandText: getBrandText(history.location.pathname),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }), children, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }))) || /*#__PURE__*/React.createElement(Redirect, {\n    from: \"/\",\n    to: \"/auth/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  });\n}\n\n__signature__(Layout, \"useState{[token, setToken](localStorage.getItem(\\\"jwt\\\") || null)}\\nuseRef{mainRef}\\nuseQuery{orders_data}\\nuseState{[orders, setorders]([])}\\nuseEffect{}\\nuseEffect{}\", function () {\n  return [useQuery];\n});\n\nLayout.propTypes = {};\nLayout.defaultProps = {};\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Layout, \"Layout\", \"/home/farrux/java/bot_admin_dashboard/src/features/admin/Layout.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/farrux/java/bot_admin_dashboard/src/features/admin/Layout.js"],"names":["React","useEffect","useRef","useState","useQuery","Redirect","Container","Header","getMessagesByGq","AdminNavbar","Sidebar","route","Layout","history","children","localStorage","getItem","token","setToken","mainRef","routes","orders_data","orders","setorders","cancel","data","document","documentElement","scrollTop","scrollingElement","getBrandText","path","i","childRoutes","length","location","pathname","indexOf","name","innerLink","imgSrc","require","imgAlt","el","current","propTypes","defaultProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { Redirect } from \"react-router-dom\";\nimport Container from \"reactstrap/lib/Container\";\nimport { Header } from \"../headers\";\nimport { getMessagesByGq } from \"../messages/query\";\nimport { AdminNavbar } from \"../navbars\";\nimport { Sidebar } from \"../sidebars\";\nimport route from \"./route\";\n// import PropTypes from 'prop-types';\n\nexport default function Layout({ history, children }) {\n  const [token, setToken] = useState(localStorage.getItem(\"jwt\") || null);\n  const mainRef = useRef(null);\n\n  const routes = route;\n  // routes.push(orerroute.childRoutes.map(item => (orerroute.path + \"/\" + item.path)))\n\n  const orders_data = useQuery(\"orders\", getMessagesByGq);\n\n  const [orders, setorders] = useState([]);\n  useEffect(() => {\n    let cancel = true;\n    if (cancel) {\n      if (orders_data.data && orders_data.data.orders) {\n        setorders(orders_data.data.orders);\n      }else{\n        setorders([])\n      }\n      cancel = false;\n    }\n  }, [orders_data.data]);\n\n  useEffect(() => {\n    document.documentElement.scrollTop = 0;\n    document.scrollingElement.scrollTop = 0;\n    // mainRef.current.scrollTop = 0;\n  }, [mainRef]);\n\n  const getBrandText = (path) => {\n    for (let i = 0; i < routes.childRoutes.length; i++) {\n      if (\n        history.location.pathname.indexOf(\n          routes.path + \"/\" + routes.childRoutes[i].path\n        ) !== -1 &&\n        routes.childRoutes[i].path !== \"\"\n      ) {\n        return routes.childRoutes[i].name;\n      }\n    }\n    return \"Brand\";\n  };\n  return (\n    (token && (\n      <>\n        <Sidebar\n          // {...this.props}\n          routes={routes}\n          logo={{\n            innerLink: \"/dashboard/index\",\n            imgSrc: require(\"../../assets/img/brand/argon-react.png\"),\n            imgAlt: \"...\",\n          }}\n          orders={orders}\n        />\n        <div className=\"main-content\" ref={(el) => (mainRef.current = el)}>\n          <AdminNavbar\n            // {...this.props}\n            brandText={getBrandText(history.location.pathname)}\n          />\n          <Header />\n          {children}\n          <Container fluid></Container>\n        </div>\n      </>\n    )) || <Redirect from=\"/\" to={\"/auth/login\"} />\n  );\n}\nLayout.propTypes = {};\nLayout.defaultProps = {};\n"]},"metadata":{},"sourceType":"module"}